addEventListener("message",async({data:e})=>{if(e.type=="UrlToBolbUrl"){let s=await n(e.data);if(s){let t=URL.createObjectURL(s);postMessage({id:e.id,type:e.type,data:t})}else postMessage({id:e.id,type:"load_image",data:e.data})}e.type=="UrlToBase64Url"});var a,i=async()=>{a=await caches.open("image"),postMessage({type:"init"})};i();var n=async e=>{let s=await a.match(e);if(s){let t=await s.blob();return t.size<1e3?null:t}else return null};
